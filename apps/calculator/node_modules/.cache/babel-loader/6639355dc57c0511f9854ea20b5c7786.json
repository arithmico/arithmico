{"ast":null,"code":"import { getOwnerDocument as s } from \"../utils/owner.js\";\nimport { useIsoMorphicEffect as d } from \"./use-iso-morphic-effect.js\";\nlet i = new Set(),\n    r = new Map();\n\nfunction u(t) {\n  t.setAttribute(\"aria-hidden\", \"true\"), t.inert = !0;\n}\n\nfunction l(t) {\n  let n = r.get(t);\n  !n || (n[\"aria-hidden\"] === null ? t.removeAttribute(\"aria-hidden\") : t.setAttribute(\"aria-hidden\", n[\"aria-hidden\"]), t.inert = n.inert);\n}\n\nfunction M(t) {\n  let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n  d(() => {\n    if (!n || !t.current) return;\n    let o = t.current,\n        a = s(o);\n\n    if (!!a) {\n      i.add(o);\n\n      for (let e of r.keys()) e.contains(o) && (l(e), r.delete(e));\n\n      return a.querySelectorAll(\"body > *\").forEach(e => {\n        if (e instanceof HTMLElement) {\n          for (let f of i) if (e.contains(f)) return;\n\n          i.size === 1 && (r.set(e, {\n            \"aria-hidden\": e.getAttribute(\"aria-hidden\"),\n            inert: e.inert\n          }), u(e));\n        }\n      }), () => {\n        if (i.delete(o), i.size > 0) a.querySelectorAll(\"body > *\").forEach(e => {\n          if (e instanceof HTMLElement && !r.has(e)) {\n            for (let f of i) if (e.contains(f)) return;\n\n            r.set(e, {\n              \"aria-hidden\": e.getAttribute(\"aria-hidden\"),\n              inert: e.inert\n            }), u(e);\n          }\n        });else for (let e of r.keys()) l(e), r.delete(e);\n      };\n    }\n  }, [n]);\n}\n\nexport { M as useInertOthers };","map":{"version":3,"names":["getOwnerDocument","s","useIsoMorphicEffect","d","i","Set","r","Map","u","t","setAttribute","inert","l","n","get","removeAttribute","M","current","o","a","add","e","keys","contains","delete","querySelectorAll","forEach","HTMLElement","f","size","set","getAttribute","has","useInertOthers"],"sources":["/home/behrenle/Projects/private/arithmico-calculator/node_modules/@headlessui/react/dist/hooks/use-inert-others.js"],"sourcesContent":["import{getOwnerDocument as s}from\"../utils/owner.js\";import{useIsoMorphicEffect as d}from\"./use-iso-morphic-effect.js\";let i=new Set,r=new Map;function u(t){t.setAttribute(\"aria-hidden\",\"true\"),t.inert=!0}function l(t){let n=r.get(t);!n||(n[\"aria-hidden\"]===null?t.removeAttribute(\"aria-hidden\"):t.setAttribute(\"aria-hidden\",n[\"aria-hidden\"]),t.inert=n.inert)}function M(t,n=!0){d(()=>{if(!n||!t.current)return;let o=t.current,a=s(o);if(!!a){i.add(o);for(let e of r.keys())e.contains(o)&&(l(e),r.delete(e));return a.querySelectorAll(\"body > *\").forEach(e=>{if(e instanceof HTMLElement){for(let f of i)if(e.contains(f))return;i.size===1&&(r.set(e,{\"aria-hidden\":e.getAttribute(\"aria-hidden\"),inert:e.inert}),u(e))}}),()=>{if(i.delete(o),i.size>0)a.querySelectorAll(\"body > *\").forEach(e=>{if(e instanceof HTMLElement&&!r.has(e)){for(let f of i)if(e.contains(f))return;r.set(e,{\"aria-hidden\":e.getAttribute(\"aria-hidden\"),inert:e.inert}),u(e)}});else for(let e of r.keys())l(e),r.delete(e)}}},[n])}export{M as useInertOthers};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}